"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[905],{5592:function(e,s,a){a.d(s,{Z:function(){return j}});var l=a(9439),n=a(2791),r=a(7689),t=a(5048),i=(a(2743),a.p+"static/media/logo.3264d22fb640e1a08433.png"),d=a(6856),o=a(9126),c=a(1087),m=a(5880),u=a(8820),x=a(298),f=a(2765),p=a(9769),h=a(3329),j=function(e){e.onSearch;var s=(0,x.QJ)(),a=(0,r.s0)(),j=(0,n.useState)(!1),g=(0,l.Z)(j,2),v=g[0],b=g[1],N=(0,t.v9)((function(e){return e.productsStore})).UserAvatar,y=(0,t.I0)(),w=(0,n.useState)(""),S=(0,l.Z)(w,2),k=S[0],U=S[1];return(0,h.jsxs)("div",{className:"fixed z-20 w-screen h-14 flex  bg-white border-b border-black/20 shadow-md sm:p-2 py-0",children:[(0,h.jsx)(p.Z,{onClose:function(){return b(!v)},isOpen:v,children:(0,h.jsxs)("div",{className:"slide-left z-50 top-0 left-52 py-3 border-l bg-gray-50 border-black/20 absolute w-9/12 h-screen",children:[(0,h.jsxs)("div",{className:"border-b flex items-center justify-between p-2 ",children:[(0,h.jsx)(u.SV5,{onClick:function(){return b(!v)},fontSize:34,className:"cursor-pointer font-semibold"}),(0,h.jsx)("div",{className:"px-4 w-36",children:(0,h.jsx)("img",{src:i,alt:""})})]}),(0,h.jsxs)("div",{className:"py-4 flex flex-col  gap-5 pl-6",children:[(0,h.jsx)(c.rU,{to:"/",children:(0,h.jsxs)("span",{className:"font-medium text-lg flex items-center text-justify p-2 gap-1",children:[(0,h.jsx)(u.iqr,{fontSize:24})," Home page"]})}),(0,h.jsx)(c.rU,{to:"/cart",children:(0,h.jsxs)("span",{className:"font-medium flex  rounded-full  items-center   p-2 gap-1",children:[(0,h.jsx)(o.Nrh,{fontSize:24})," Go to cart"]})}),(0,h.jsx)(c.rU,{to:"/myorders",children:(0,h.jsxs)("span",{className:"font-medium flex items-center p-2 gap-1",children:[(0,h.jsx)(m.$GO,{fontSize:24}),"Orders"]})}),(0,h.jsx)(c.rU,{to:"/me",children:(0,h.jsxs)("span",{className:"font-medium flex items-center p-2 gap-1",children:[(0,h.jsx)(m.Mdg,{fontSize:24})," My profile"]})}),(0,h.jsx)(c.rU,{to:"/contact",children:(0,h.jsxs)("span",{className:"font-medium flex items-center p-2 gap-1",children:[(0,h.jsx)(d.DsE,{fontSize:24})," Contact Us"]})}),(0,h.jsx)(c.rU,{onClick:function(){return s()},children:(0,h.jsxs)("span",{className:"font-medium flex items-center p-2 gap-1",children:[(0,h.jsx)(d.lE7,{fontSize:24})," Logout"]})})]})]})}),(0,h.jsxs)("div",{className:"w-full  lg:w-10/12 xl:w-8/12 md:mx-auto flex   px-2 justify-center md:px-6 max-sm:gap-3 gap-8 ",children:[(0,h.jsx)("div",{className:"hidden sm:flex items-center  w-64",children:(0,h.jsx)("img",{src:i,alt:""})}),(0,h.jsxs)("form",{action:"",className:"flex items-center   max-md:justify-between w-full gap-2",onSubmit:function(e){e.preventDefault(),y((0,f.Dg)()),y((0,f.MJ)(k)),a("/products")},children:[(0,h.jsxs)("div",{className:" w-full flex items-center px-3 max-md:shadow-md border-black/20 max-md:border max-md:bg-white md:pl-4 rounded-full",children:[(0,h.jsx)(u.RB5,{fontSize:24,className:"md:hidden text-gray-400"}),(0,h.jsx)("input",{type:"text",placeholder:"Search...",className:"outline-none bg-transparent w-full  md:rounded-full md:border-2   max-sm:py-2 py-2  px-4",onChange:function(e){U(e.target.value)}}),(0,h.jsx)("div",{className:"  sm:hidden",children:(0,h.jsx)("img",{src:N.url||i,onClick:function(){return b(!v)},className:"rounded-full object-cover  w-10 h-8 overflow-hidden"})})]}),(0,h.jsxs)("button",{type:"submit",className:"hidden \r lg:flex\r bg-black/90\r text-white\r\nitems-center gap-1 px-5 py-2  border rounded-full\r transition duration-200 transform active:scale-95 ease-in-out",children:[(0,h.jsx)(o.dVI,{fontSize:18,className:""}),(0,h.jsx)("p",{className:"hidden md:block",children:"Search"})]})]}),(0,h.jsxs)("div",{className:"hidden sm:flex items-center px-2 gap-5 ",children:[(0,h.jsx)("span",{children:(0,h.jsx)(c.rU,{to:"/",children:(0,h.jsx)(u.iqr,{fontSize:25})})}),(0,h.jsx)("span",{children:(0,h.jsx)(c.rU,{to:"/cart",children:(0,h.jsx)(o.Nrh,{fontSize:22})})}),(0,h.jsx)("span",{children:(0,h.jsx)(c.rU,{to:"/myorders",children:(0,h.jsx)(m.$GO,{fontSize:22})})}),(0,h.jsx)("span",{children:(0,h.jsx)(c.rU,{to:"/contact",children:(0,h.jsx)(d.DsE,{fontSize:22})})}),(0,h.jsx)(c.rU,{to:"/me",className:"text-sm ",children:(0,h.jsx)("span",{className:"hidden md:flex w-10 text-center  items-center justify-center ",children:(0,h.jsx)("img",{src:N.url||i,onClick:function(){return b(!v)},className:"rounded-full object-cover  w-10 h-10 overflow-hidden"})})}),(0,h.jsx)("button",{onClick:function(){return s()},children:(0,h.jsx)(d.lE7,{fontSize:22})})]})]})]})}},9769:function(e,s,a){var l=a(2791),n=a(3329);s.Z=function(e){var s=e.children,a=e.isOpen,r=void 0!==a&&a,t=e.onClose,i=e.className;return(0,l.useEffect)((function(){return r?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),function(){document.body.classList.remove("modal-open")}}),[r]),r?(0,n.jsxs)("div",{className:i,children:[(0,n.jsx)("div",{onClick:t,className:"fixed bg-black opacity-30 top-0 bottom-0 left-0 right-0"}),s]}):(0,n.jsx)(n.Fragment,{})}},8311:function(e,s,a){a.r(s),a.d(s,{default:function(){return S}});var l=a(9439),n=a(2791),r=a(5048),t=a(2426),i=a.n(t),d=a(5592),o=a(2529),c=a(5465),m=a(2506),u=a(6727),x=a(661).f.injectEndpoints({endpoints:function(e){return{userInfo:e.query({query:function(e){return"api/vi/me/?email=".concat(e)},providesTags:["USER"]}),updateUserInfo:e.mutation({query:function(e){return{url:"api/vi/me/update",method:"PUT",body:e}},invalidatesTags:["USER"]}),uploadProfile:e.mutation({query:function(e){return{url:"api/vi/upload/profile",method:"PUT",body:e}}})}}}),f=x.useUserInfoQuery,p=x.useUpdateUserInfoMutation,h=x.useUploadProfileMutation,j=a(298),g=a(3239),v=a(9126),b=a(2765),N=a(9769),y=a(3329),w=u.Ry({email:u.Z_().email("Enter a valid email address").required("Add new  email"),username:u.Z_().required("Enter new username")}),S=function(){var e,s,a,t,u,x,S=(0,n.useState)(!1),k=(0,l.Z)(S,2),U=k[0],C=k[1],z=(0,j.fC)(),E=(0,r.I0)(),Z=f(z().email,{refetchOnMountOrArgChange:!0}),M=Z.isLoading,D=Z.data,L=Z.isSuccess,O=Z.refetch,Y=(Z.isFetching,Z.isError),q=(Z.error,p()),A=(0,l.Z)(q,2),I=A[0],B=A[1],F=(B.data,B.error),R=B.isLoading,P=B.isSuccess;if(Y)throw new Error(F);var T=h(),G=(0,l.Z)(T,2),V=G[0],H=G[1],J=(H.data,H.isSuccess),Q=H.isLoading,$=null===D||void 0===D?void 0:D.message,_=(0,m.TA)({initialValues:{email:"",username:""},validateOnBlur:!0,onSubmit:function(e,s){I({username:e.username,email:e.email}),s.resetForm()},validationSchema:w});return(0,n.useEffect)((function(){P&&C(!1)}),[P]),(0,n.useEffect)((function(){J&&O()&&E((0,b.hn)(null===$||void 0===$?void 0:$.avatar))}),[J,L]),(0,n.useEffect)((function(){L&&E((0,b.hn)(null===$||void 0===$?void 0:$.avatar))}),[D]),(0,y.jsxs)("div",{className:" max-w-screen h-screen bg-gray-50",children:[(0,y.jsx)(d.Z,{}),M?(0,y.jsx)(o.Z,{}):(0,y.jsx)("div",{className:"relative pt-16 sm:w-11/12 md:w-10/12 lg:w-9/12 sm:h-5/6 mx-auto flex justify-center sm:items-center",children:(0,y.jsxs)("div",{className:" sm:relative w-full md:10/12 lg:w-11/12 xl:w-10/12   sm:h-5/6 flex max-sm:flex-col shadow-md bg-white/80 py-4 rounded-md",children:[(0,y.jsx)(N.Z,{isOpen:U,onClose:function(){return C(!U)},className:"z-40",children:(0,y.jsxs)("form",{autoComplete:"",onSubmit:_.handleSubmit,className:" z-40 shadow-md flex flex-col duration-300  justify-between bg-gray-50 rounded-md py-2 gap-5  w-9/12  h-auto   absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"border-b py-2",children:(0,y.jsx)("p",{className:"px-3 font-serif  text-xl",children:"Edit profile"})}),(0,y.jsxs)("div",{className:"overflow-hidden px-4 flex flex-col gap-3",children:[(0,y.jsxs)("div",{className:"p-2",children:[(0,y.jsx)("p",{className:"text-lg py-1",children:"Username"}),(0,y.jsx)("input",{type:"text",className:"border bg-gray-100 outline-none py-1 w-full sm:w-6/12 px-3 rounded-sm ",name:"username",value:_.values.username,onChange:_.handleChange,onBlur:_.handleBlur}),(0,y.jsx)("p",{className:"text-red-600 text-xs",children:_.touched.username&&_.errors.username?_.errors.username:""})]}),(0,y.jsxs)("div",{className:"p-2",children:[(0,y.jsx)("p",{className:"text-lg py-1",children:"Email"}),(0,y.jsx)("input",{type:"text",className:"border bg-gray-100 outline-none py-1 w-full sm:w-6/12 px-3 rounded-sm ",name:"email",value:_.values.email,onChange:_.handleChange,onBlur:_.handleBlur}),(0,y.jsx)("p",{className:"text-red-600 text-xs",children:_.touched.email&&_.errors.email?_.errors.email:""})]})]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-end gap-3 px-3",children:[(0,y.jsxs)("button",{className:" disabled:bg-black/90 h-8 bg-black text-white flex gap-2 items-center px-6 rounded-md py-1 ",disabled:R,type:"submit",children:[(0,y.jsx)(g.Z,{size:18,className:"",style:{color:"white",display:"".concat(R?"inline-block":"none")}}),R?null:(0,y.jsx)("span",{children:"Edit"})]}),(0,y.jsx)("button",{onClick:function(){C(!1),_.resetForm()},className:"border border-black  px-8 rounded-md py-1 ",type:"button",children:"cancel"})]})]})}),(0,y.jsxs)("div",{className:"sm:w-4/12 px-6 flex flex-col  items-center justify-evenly",children:[(0,y.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[Q?(0,y.jsx)("div",{className:"overflow-hidden mx-auto  w-52 h-52 sm:w-40 sm:h-40 md:w-48 md:h-48 xl:h-64 xl:w-64 rounded-full animate-pulse bg-gray-100 flex items-center justify-center",children:(0,y.jsx)("img",{src:c,alt:"",className:"w-10"})}):(0,y.jsxs)("div",{className:"overflow-hidden mx-auto relative w-52 h-52 sm:w-40 sm:h-40 md:w-48 md:h-48 xl:h-64 xl:w-64 rounded-full",children:[(0,y.jsx)("img",{src:null===$||void 0===$||null===(e=$.avatar)||void 0===e?void 0:e.url,className:"mx-auto l object-cover",alt:""}),(0,y.jsx)("div",{className:"text-white absolute bottom-0 flex justify-end  bg-black/90   w-64 h-8",children:(0,y.jsxs)("label",{htmlFor:"file-upload",className:"custom-file-upload relative cursor-pointer",children:[(0,y.jsx)("span",{className:"  ",children:(0,y.jsx)(v.Kix,{fontSize:18,className:" text-white mt-1 mr-28"})}),(0,y.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",onChange:function(e){var s=new FileReader;s.readAsDataURL(e.target.files[0]),s.onloadend=function(){V({image:s.result})}},className:"absolute w-full h-full opacity-0 overflow-hidden cursor-pointer"})]})})]}),(0,y.jsxs)("p",{className:"text-3xl py-2 mr-auto",children:[" ",null===D||void 0===D||null===(s=D.message)||void 0===s?void 0:s.username]})]}),(0,y.jsx)("button",{onClick:function(){return C(!0)},className:"py-1 max-sm:w-5/12 max-sm:ml-auto hover:text-white hover:bg-black duration-700 rounded-md font-medium w-full border border-black ",children:"Edit profile"})]}),(0,y.jsxs)("div",{className:"sm:w-8/12 md:pl-5 flex flex-col   ",children:[(0,y.jsx)("div",{className:"flex gap-4 py-2   px-10 border-b-2 border-r-gray-500",children:(0,y.jsx)("span",{className:"hidden sm:block cursor-pointer px-2 p font-medium border-b-4 border-gray-600 text-black/70 text-sm ",children:"About"})}),(0,y.jsxs)("div",{className:"flex sm:h-5/6 p-4  flex-col justify-around gap-2 ",children:[(0,y.jsxs)("div",{className:"border rounded-md p-4 flex flex-col gap-2 ",children:[(0,y.jsx)("p",{className:"text-gray-500 border-b-2 font-medium w-fit",children:"Personal Details"}),(0,y.jsxs)("span",{className:"",children:[(0,y.jsx)("p",{className:"text-sm  text-gray-700",children:"username"}),(0,y.jsx)("p",{className:"p-0 m-0 leading-4 font-medium  text-gray-800",children:null===D||void 0===D||null===(a=D.message)||void 0===a?void 0:a.username})]}),(0,y.jsxs)("span",{className:"",children:[(0,y.jsx)("p",{className:"text-sm  text-gray-700",children:"email"}),(0,y.jsx)("p",{className:"p-0 m-0 leading-4 font-medium  text-gray-800",children:null===D||void 0===D||null===(t=D.message)||void 0===t?void 0:t.email})]})]}),(0,y.jsxs)("div",{className:"border rounded-md p-4 flex flex-col gap-2 ",children:[(0,y.jsx)("p",{className:"text-gray-500 border-b-2 font-medium w-fit",children:"Histroy"}),(0,y.jsxs)("span",{className:"",children:[(0,y.jsx)("p",{className:"text-sm p-0 text-gray-700",children:"Last updated"}),(0,y.jsx)("p",{className:"p-0 m-0 leading-4 font-medium font-mono text-gray-800",children:i()(null===D||void 0===D||null===(u=D.message)||void 0===u?void 0:u.updatedAt).format("DD MMM YYYY h:mma")})]}),(0,y.jsxs)("span",{className:"",children:[(0,y.jsx)("p",{className:"text-sm p-0 text-gray-700",children:"joined"}),(0,y.jsx)("p",{className:"p-0 m-0 leading-4 font-medium font-mono text-gray-800",children:i()(null===D||void 0===D||null===(x=D.message)||void 0===x?void 0:x.createdAt).format("DD MMMM YYYYY h:mma")})]})]})]})]})]})})]})}},2743:function(){},5465:function(e,s,a){e.exports=a.p+"static/media/loadprofile.ce3fd696d5e991dd4056.gif"}}]);
//# sourceMappingURL=905.21cbc21a.chunk.js.map