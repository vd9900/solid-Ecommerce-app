"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[509],{7509:function(e,s,t){t.r(s),t.d(s,{default:function(){return S}});var a=t(9439),n=t(2791),i=t(7689),l=t(4132),r=t(3326),d=t(5493),o=t(706),c=t(5668),m=t(3803),u=t(8820),x=t(5048),f=t(4758),p=t(4308),h=(t(2529),t(1413)),g=t(5261),v=t(3239),j=t(661).f.injectEndpoints({endpoints:function(e){return{addReview:e.mutation({query:function(e){return{url:"api/vi/review",method:"PUT",body:e}}})}}}).useAddReviewMutation,y=t(9769),b=t(3329),w=function(e){var s=e.toggleReview,t=e.ontoggleChange,i=e.productId,l=e.refetch,r=(0,n.useState)(0),d=(0,a.Z)(r,2),o=d[0],c=d[1],m=(0,n.useState)({rating:0,comment:""}),u=(0,a.Z)(m,2),x=u[0],f=u[1],p=j(void 0,{refetchOnMountOrArgChange:!0}),w=(0,a.Z)(p,2),N=w[0],C=w[1],k=(C.error,C.data,C.isSuccess),Z=C.isLoading;return(0,n.useEffect)((function(){k&&t()}),[k]),(0,b.jsx)(y.Z,{isOpen:s,onClose:t,children:(0,b.jsxs)("div",{className:"flex  shadow-md z-10  flex-col duration-300  justify-between bg-gray-50 rounded-md py-2 gap-5 max-sm:w-10/12 w-9/12  h-auto   fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"border-b py-2",children:(0,b.jsx)("p",{className:"px-3 font-serif  text-xl",children:"Add Review"})}),(0,b.jsxs)("div",{className:"px-4 flex flex-col gap-0 ",children:[(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsx)("p",{className:"text-lg py-1",children:"Ratings"}),(0,b.jsx)(g.Z,{name:"simple-controlled",value:o,size:"large",onChange:function(e,s){c(s),f((0,h.Z)((0,h.Z)({},x),{},{rating:e.target.value}))},className:"text-4xl"})]}),(0,b.jsxs)("div",{className:"p-2 w-full",children:[(0,b.jsx)("p",{className:"text-lg py-1",children:"Description"}),(0,b.jsx)("textarea",{rows:6,type:"text",placeholder:"say something...",className:"resize-none border bg-gray-100 outline-none py-1 w-full sm:w-6/12 px-3 rounded-sm ",name:"email",onChange:function(e){return f((0,h.Z)((0,h.Z)({},x),{},{comment:e.target.value}))}})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3 px-3",children:[(0,b.jsxs)("button",{onClick:function(){if(""!==x.comment){var e=(0,h.Z)((0,h.Z)({},x),{},{productId:i});N(e),l(),f({rating:0,comment:""})}},className:"disabled:opacity-90 flex items-center gap-1  bg-black text-white  px-6 rounded-full py-1 ",disabled:Z,children:[(0,b.jsx)(v.Z,{size:16,style:{color:"white",display:"".concat(Z?"inline-block":"none")},className:"text-black"}),(0,b.jsx)("span",{className:"",children:"Post"})]}),(0,b.jsx)("button",{onClick:t,className:"border-2 border-black px-6 rounded-full transition duration-200 transform active:scale-95 ease-in-out py-1 ",children:"cancel"})]})]})})},N=t(2426),C=t.n(N),k=t(2045),Z=function(){return(0,b.jsxs)("div",{className:"  pt-14 md:px-2 flex flex-col md:flex-row gap-0 md:gap-2 md:w-12/12\r lg:w-11/12 xl:w-10/12 md:pt-20 md:justify-center md:mx-auto animate-pulse",children:[(0,b.jsxs)("div",{className:"bg-white h-full  md:w-5/12 lg:w-4/12  rounded-md shadow-md",children:[(0,b.jsx)("div",{className:"pb-2 md:p-2 relative flex h-full",children:(0,b.jsx)("div",{className:"w-screen md:w-72 mx-auto h-96   bg-gray-200"})}),(0,b.jsxs)("div",{className:"px-3 py-6 relative",children:[(0,b.jsx)("p",{className:"h-6 rounded-sm bg-gray-300 w-8/12"}),(0,b.jsx)("p",{className:"h-5 my-1 rounded-sm bg-gray-300 w-10/12"}),(0,b.jsx)("p",{className:"h-5 rounded-sm bg-gray-300 w-10/12"}),(0,b.jsx)("div",{className:"py-1 flex items-center",children:(0,b.jsx)("div",{className:"flex  items-center gap-1 pl-1 text-gray-600 text-sm font-medium",children:(0,b.jsx)("div",{className:""})})}),(0,b.jsxs)("div",{className:"py-2 flex items-center gap-3",children:[(0,b.jsx)("p",{className:"w-20 bg-gray-200 h-7 rounded-sm"}),(0,b.jsx)("p",{className:"w-20 bg-gray-200 h-7 rounded-sm"}),(0,b.jsx)("p",{className:"w-20 bg-gray-200 h-7 rounded-sm"})]}),(0,b.jsxs)("div",{className:"hidden  md:flex w-full px-3 gap-2  z-10",children:[(0,b.jsx)("button",{className:"  py-2 bg-gray-200 h-12 rounded-full  w-6/12"}),(0,b.jsx)("button",{className:"  py-2 bg-gray-200 rounded-full  w-6/12"})]})]})]}),(0,b.jsx)("div",{className:" bg-white md:grow rounded-md shadow-md h-auto",children:(0,b.jsx)("div",{className:"h-auto pt-2",children:(0,b.jsxs)("div",{className:"relative bg-white flex flex-col gap-2 border-b",children:[(0,b.jsxs)("div",{className:"relative ",children:[(0,b.jsx)("div",{className:"text-lg px-6 border-b py-2 font-serif font-semibold",children:(0,b.jsx)("p",{className:"bg-gray-200 h-8 w-52 rounded-sm"})}),(0,b.jsx)("div",{className:" px-6 py-6",children:(0,b.jsxs)("ul",{className:"list-none  flex flex-col gap-2",children:[(0,b.jsx)("li",{className:"h-6 bg-gray-200 w-10/12 rounded-sm"}),(0,b.jsx)("li",{className:"h-6 bg-gray-200 w-10/12 rounded-sm"}),(0,b.jsx)("li",{className:"h-6 bg-gray-200 w-10/12 rounded-sm"}),(0,b.jsx)("li",{className:"h-6 bg-gray-200 w-10/12 rounded-sm"}),(0,b.jsx)("li",{className:"h-6 bg-gray-200 w-10/12 rounded-sm"}),(0,b.jsx)("li",{className:"h-6 bg-gray-200 w-10/12 rounded-sm"})]})})]}),(0,b.jsxs)("div",{className:"px-6 hidden md:flex items-center justify-between  py-2 ",children:[(0,b.jsx)("p",{className:"h-8 bg-gray-200 w-56 rounded-sm"}),(0,b.jsx)("div",{className:"max-md:hidden bg-gray-200\r h-10 w-32\r\npy-2   rounded-full text-sm\r\n"})]}),(0,b.jsx)("div",{className:" px-6 py-4 max-sm:hidden ",children:(0,b.jsx)("div",{className:"flex-col bg-gray-200  mx-auto w-36 h-36  rounded-full"})})]})})})]})},A=[{id:1,img:d},{id:2,img:o},{id:3,img:c},{id:4,img:m}],S=function(){var e,s,t,d,o,c,m,h,v,j,y,N,S=(0,x.I0)(),T=(0,i.s0)(),q=(0,n.useState)(!1),O=(0,a.Z)(q,2),R=O[0],z=O[1],P=(0,n.useState)(!1),M=(0,a.Z)(P,2),E=M[0],D=M[1],B=(0,n.useState)(!1),L=(0,a.Z)(B,2),F=L[0],I=L[1],Q=(0,n.useState)(!1),Y=(0,a.Z)(Q,2),G=Y[0],H=Y[1],U=(0,i.TH)().search,$=new URLSearchParams(U).get("id");console.log($);var _=(0,f.FA)($,{refetchOnMountOrArgChange:!0}),X=_.data,J=_.isLoading,K=(_.isSuccess,_.refetch);_.isFetching;console.log(X);var V=(0,p.$B)(void 0,{refetchOnMountOrArgChange:!0,onSuccess:function(){te()}}),W=(0,a.Z)(V,2),ee=W[0],se=W[1],te=(se.isLoading,se.data,se.error,se.isError,se.refetch),ae=function(){var e={products:{id:null===X||void 0===X?void 0:X.message._id,price:null===X||void 0===X?void 0:X.message.price,name:null===X||void 0===X?void 0:X.message.name,quantity:1}};S((0,k.os)()),S((0,k.o4)(e)),S((0,k.XG)(null===X||void 0===X?void 0:X.message.price)),T("/cart/address")},ne=function(){var e;F?T("/cart"):(D(!0),I(!0),console.log(null===(e=X.message)||void 0===e?void 0:e._id),ee({product:$}))};return(0,n.useEffect)((function(){var e;return!0===E&&(e=setTimeout((function(){D(!1)}),2e3)),function(){return clearTimeout(e)}}),[E]),(0,b.jsxs)("div",{className:"max-w-screen  bg-gray-50 min-h-screen relative",children:[(0,b.jsx)(l.Z,{}),(0,b.jsx)("div",{className:"".concat(E?"":"opacity-10 hidden"," px-2 absolute md:w-3/12 md:top-0 slide-bottom md:left-1/2 w-7/12  right-0 transform -translate-x-1/2  z-10"),children:(0,b.jsxs)("div",{className:"bg-black/80 text-white rounded-md flex items-center justify-between p-2",children:["Added to cart"," ",(0,b.jsx)("span",{onClick:function(){return D(!1)},children:(0,b.jsx)(u.oHP,{fontSize:20})})]})}),!G&&J?(0,b.jsx)(Z,{}):(0,b.jsxs)("div",{className:"  pt-14 md:px-2 flex flex-col md:flex-row gap-0 md:gap-2 md:w-12/12\r lg:w-11/12 xl:w-10/12 md:pt-20 md:justify-center md:mx-auto",children:[(0,b.jsxs)("div",{className:"bg-white h-full  md:w-5/12 lg:w-4/12  rounded-md shadow-md",children:[(0,b.jsx)("div",{className:"pb-2 md:p-2 relative flex ",children:(0,b.jsx)(r.Z,{dotColor:"bg-white md:bg-black",style:["md:w-4/6 w-full  mx-auto max-md:my-auto"],children:A.map((function(e){var s=e.id,t=e.img;return(0,b.jsx)("img",{src:t,alt:"",onLoad:function(){return H(!0)},className:"w-screen t md:w-full"},s)}))})}),(0,b.jsxs)("div",{className:"px-3 py-6 relative",children:[(0,b.jsx)("p",{className:"font-semibold text-2xl",children:null===X||void 0===X||null===(e=X.message)||void 0===e?void 0:e.name}),(0,b.jsx)("p",{className:"text-sm",children:null===X||void 0===X||null===(s=X.message)||void 0===s?void 0:s.description}),(0,b.jsx)("div",{className:"py-1 flex items-center",children:(0,b.jsxs)("div",{className:"flex  items-center gap-1 pl-1 text-gray-600 text-sm font-medium",children:[(0,b.jsx)(g.Z,{name:"read-only",size:"large",value:null===X||void 0===X||null===(t=X.message)||void 0===t?void 0:t.ratings,readOnly:!0}),(0,b.jsxs)("span",{children:["(",null===X||void 0===X||null===(d=X.message)||void 0===d?void 0:d.numberOfReviews,")"]})]})}),(0,b.jsxs)("div",{className:"py-2 flex items-center gap-3",children:[(0,b.jsx)("p",{className:"font-serif text-lg text-red-600",children:"18% off"}),(0,b.jsx)("span",{className:"text-gray-500 text-lg line-through",children:"\u20b9899"}),(0,b.jsx)("span",{className:"font-semibold text-2xl",children:null===X||void 0===X||null===(o=X.message)||void 0===o?void 0:o.price})]}),(0,b.jsxs)("div",{className:"hidden  md:flex w-full px-3 gap-2   z-10",children:[(0,b.jsx)("button",{onClick:ne,className:" text-center transition duration-200 transform active:scale-95 ease-in-out grow py-2  border font-medium font-serif text-xl rounded-full  shadow-md",children:F?(0,b.jsx)("span",{children:"Go to Cart"}):(0,b.jsx)("span",{children:"Add to Cart"})}),(0,b.jsx)("button",{onClick:ae,className:"grow text-white font-medium text-xl font-serif py-2 rounded-full\r shadow-md bg-black\r transition duration-200 transform active:scale-95 ease-in-out\r ",children:"Buy"})]})]})]}),(0,b.jsx)("div",{className:" bg-white md:grow rounded-md shadow-md h-auto",children:(0,b.jsxs)("div",{className:"h-auto pt-2  max-sm:pb-16",children:[(0,b.jsxs)("div",{className:"relative bg-white flex flex-col gap-2 border-b",children:[(0,b.jsxs)("div",{className:"relative ",children:[(0,b.jsx)("div",{className:"text-lg px-6 border-b py-2 font-serif font-semibold",children:(0,b.jsx)("p",{children:"Product Deatils"})}),(0,b.jsx)("div",{className:" px-6 py-4",children:(0,b.jsx)("ul",{className:"list-disc  list-inside text-gray-800 flex flex-col gap-1",children:null===X||void 0===X||null===(c=X.message)||void 0===c?void 0:c.productDetails.map((function(e){return(0,b.jsx)("li",{children:e})}))})})]}),(0,b.jsx)(w,{refetch:K,toggleReview:R,ontoggleChange:function(){z(!R)},productId:$}),(0,b.jsxs)("div",{className:"px-6 flex items-center justify-between  py-2 ",children:[(0,b.jsx)("p",{className:"font-medium font-serif text-xl",children:"Rating & Reviews"}),(0,b.jsx)("button",{onClick:function(){return z(!R)},className:"bg-black/90\r text-white\r py-2  border rounded-full text-sm px-4\r transition duration-200 transform active:scale-95 ease-in-out",children:"Add Review"})]}),(0,b.jsx)("div",{className:"block px-6 py-4 ",children:(0,b.jsxs)("div",{className:"border-4 px-4 flex-col border-black/90 mx-auto w-36 h-36 flex items-center justify-center rounded-full",children:[(0,b.jsxs)("span",{className:"text-4xl border-b-2 w-full justify-center py-2   text-gray-800 flex items-center",children:[null===X||void 0===X||null===(m=X.message)||void 0===m?void 0:m.ratings,(0,b.jsx)(u.pHD,{className:"text-yellow-500"})]}),(0,b.jsxs)("p",{className:"text-sm font-semibold text-gray-600 text-center",children:[null===X||void 0===X||null===(h=X.message)||void 0===h?void 0:h.numberOfReviews," reviews"]})]})})]}),null===X||void 0===X||null===(v=X.message)||void 0===v||null===(j=v.reviews)||void 0===j?void 0:j.map((function(e,s){return(0,b.jsx)("div",{className:"py-1",children:(0,b.jsxs)("div",{className:"flex flex-col gap-1 border-b py-2",children:[(0,b.jsx)("div",{className:"px-6 text-lg font-medium text-gray-700 flex gap-2 items-center  ",children:(0,b.jsx)("span",{children:e.name})}),(0,b.jsx)("div",{className:"px-6 flex items-center gap-1 font-medium",children:(0,b.jsx)(g.Z,{name:"read-only",size:"small",value:e.rating,readOnly:!0})}),(0,b.jsx)("div",{className:"px-6 ",children:(0,b.jsx)("p",{className:"textleading-tight text-gray-800",children:e.comment})}),(0,b.jsx)("div",{className:"px-6 font-mono text-sm",children:(0,b.jsx)("span",{className:"",children:C()(null===e||void 0===e?void 0:e.PostedAt).format("DD MMM YYYY h:mma")})})]})},s)})),0===(null===X||void 0===X||null===(y=X.message)||void 0===y||null===(N=y.reviews)||void 0===N?void 0:N.length)?(0,b.jsx)("div",{className:"py-2",children:(0,b.jsx)("div",{className:"flex flex-col  border-b py-4",children:(0,b.jsx)("p",{className:"font-medium text-center",children:"No, reviews yet"})})}):null]})}),(0,b.jsxs)("div",{className:"fixed flex w-full bottom-0  z-0 md:hidden",children:[(0,b.jsxs)("button",{onClick:ne,className:"  transition duration-200 transform active:scale-95 bg-white ease-in-out grow py-3  border font-medium font-serif text-xl   shadow-md",children:[F?(0,b.jsx)("span",{children:"Go to Cart"}):(0,b.jsx)("span",{children:"Add to Cart"})," "]}),(0,b.jsx)("button",{onClick:ae,className:"grow text-white font-medium text-xl font-serif py-3 \r shadow-md bg-black\r transition duration-200 transform active:scale-95 ease-in-out\r ",children:"Buy now"})]})]})]})}},4308:function(e,s,t){t.d(s,{$B:function(){return i},mI:function(){return l},ws:function(){return n}});var a=t(661).f.injectEndpoints({endpoints:function(e){return{carts:e.query({query:function(){return"api/vi/mycarts"}}),addToCart:e.mutation({query:function(e){return{url:"api/vi//mycarts",method:"POST",body:e}},invalidatesTags:[{type:"Carts",id:"LIST"}]}),deleteFromCart:e.mutation({query:function(e){return{url:"api/vi//mycarts/?id=".concat(e),method:"DELETE"}},invalidatesTags:["Carts"]})}}}),n=a.useCartsQuery,i=a.useAddToCartMutation,l=a.useDeleteFromCartMutation},4758:function(e,s,t){t.d(s,{BF:function(){return l},FA:function(){return i},kN:function(){return n}});var a=t(661).f.injectEndpoints({endpoints:function(e){return{products:e.query({query:function(){return"/api/vi/products"}}),product:e.query({query:function(e){return"/api/vi/product?id=".concat(e)}}),productByCategory:e.query({query:function(e){return"/api/vi/products/?".concat(e)}}),addToCart:e.mutation({query:function(e){return{url:"api/vi//mycarts",method:"POST",body:e}}})}}}),n=a.useProductsQuery,i=a.useProductQuery,l=a.useProductByCategoryQuery;a.useAddToCartMutation}}]);
//# sourceMappingURL=509.3b79cbe4.chunk.js.map