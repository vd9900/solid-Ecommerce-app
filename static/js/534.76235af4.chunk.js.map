{"version":3,"file":"static/js/534.76235af4.chunk.js","mappings":"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","sources":["components/login&signup/resetPassword/Enterotp.jsx","services/updatePassword/forgotPasswordApi.js"],"sourcesContent":["import { optionGroupUnstyledClasses } from \"@mui/base\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  useCheckOTPMutation,\r\n  useSendEmailMutation,\r\n} from \"../../../services/updatePassword/forgotPasswordApi\";\r\nimport loaderGif from \"../../../assets/imgs/loadprofile.gif\";\r\n\r\n//components\r\n// import Loader from \"../../components/Loder\";\r\n\r\nconst Enterotp = () => {\r\n  const inputRef1 = useRef(null);\r\n  const inputRef2 = useRef(null);\r\n  const inputRef3 = useRef(null);\r\n  const inputRef4 = useRef(null);\r\n\r\n  const navigate = useNavigate();\r\n  const [timerCount, setTimer] = useState(10);\r\n  const [OTPinput, setOTPinput] = useState([]);\r\n  const [disable, setDisable] = useState(true);\r\n  const [isInputField, setIsInputField] = useState(true);\r\n  const [error, SetError] = useState(\"\");\r\n\r\n  const handleInputOtp = (e, inputRef) => {\r\n    SetError(\"\");\r\n    const input = e.target;\r\n    if (input.value.length >= 1) {\r\n      e.target.value.slice(0, 1);\r\n      inputRef.current.focus();\r\n    }\r\n  };\r\n\r\n  //geting user email address\r\n  const { UserEmail: email } = useSelector((state) => state.productsStore);\r\n  console.log(email);\r\n\r\n  const [\r\n    sendEmail,\r\n    { isSuccess: isSuccessRestEmail, error: errorRestEmail, data: emailData },\r\n  ] = useSendEmailMutation();\r\n  console.log(\"reset error\", errorRestEmail);\r\n  console.log(\"Success\", emailData);\r\n  // const [sendEmail, { isSuccess, isError, error, data: emailData }] =\r\n  //   useSendEmailMutation();\r\n  const [\r\n    checkOTP,\r\n    { error: CheckOtpError, data: otpResult, isSuccess, isLoading, isError },\r\n  ] = useCheckOTPMutation();\r\n\r\n  if (otpResult?.success) {\r\n    navigate(\"/forgot_password/newPassword\");\r\n  }\r\n  console.log(\"checkotp\", CheckOtpError);\r\n  console.log(\"checkotp\", otpResult);\r\n  function resendOTP() {\r\n    if (disable) return;\r\n    sendEmail(email);\r\n    setDisable(true);\r\n    setTimer(20);\r\n  }\r\n  function verfiyOTP(e) {\r\n    e.preventDefault();\r\n    const otp = OTPinput.join(\"\"); // join OTPinput array into a string\r\n    const isEmpty = otp === \"\"; // check if otp is empty\r\n    const isInvalidLength = otp.length !== 4; // check if otp is not 4 digits long\r\n    isInvalidLength && SetError(\"Please fill the input\");\r\n    const convertToNumber = otp; // convert otp string to number\r\n    console.log(convertToNumber);\r\n    if (!isEmpty && !isInvalidLength) {\r\n      checkOTP(convertToNumber);\r\n    }\r\n  }\r\n  // to reset the resend otp option\r\n  useEffect(() => {\r\n    let interval = setInterval(() => {\r\n      setTimer((lastTimerCount) => {\r\n        lastTimerCount <= 1 && clearInterval(interval);\r\n        if (lastTimerCount <= 1) setDisable(false);\r\n        if (lastTimerCount <= 0) return lastTimerCount;\r\n        return lastTimerCount - 1;\r\n      });\r\n    }, 1000); //each count lasts for a second\r\n    //cleanup the interval on complete\r\n    return () => clearInterval(interval);\r\n  }, [disable]);\r\n\r\n  useEffect(() => {\r\n    if (isSuccess?.success) {\r\n      navigate(\"/forgot_password/newPassword\");\r\n    }\r\n    if (otpResult?.error) {\r\n      SetError(otpResult?.error);\r\n    }\r\n  }, [isSuccess, otpResult]);\r\n\r\n  return (\r\n    <div className=\"w-screen h-screen bg-gray-50 flex justify-center items-center \">\r\n      <div className=\" w-full md:w-5/12 rounded-md lg:w-4/12 xl:w-3/12 shadow-lg bg-white border border-gray-200 h-full sm:h-5/6  flex flex-col justify-around\">\r\n        <div className=\" px-6 pt-10 pb-9  mx-auto w-full\">\r\n          <div className=\"mx-auto flex w-full max-w-md flex-col space-y-16\">\r\n            <div className=\"flex flex-col items-center justify-center text-center space-y-2\">\r\n              <div className=\"font-serif text-gray-900 font-medium text-3xl\">\r\n                <p>Email Verification</p>\r\n              </div>\r\n              <div className=\"flex flex-row text-sm font-medium text-center text-gray-400\">\r\n                <p>We have sent a code to your email {email}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <form>\r\n                <div className=\"flex flex-col space-y-16\">\r\n                  <div className=\"flex flex-row items-center justify-between mx-auto w-full max-w-xs\">\r\n                    <div className=\"w-16 h-16 \">\r\n                      <input\r\n                        maxLength=\"1\"\r\n                        className=\"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border-2 border-gray-200 text-2xl bg-white focus:bg-gray-50 focus:ring-2 ring-black\"\r\n                        type=\"number\"\r\n                        onInput={(e) => handleInputOtp(e, inputRef2)}\r\n                        ref={inputRef1}\r\n                        name=\"\"\r\n                        id=\"\"\r\n                        onChange={(e) => {\r\n                          setOTPinput([\r\n                            e.target.value,\r\n                            OTPinput[1],\r\n                            OTPinput[2],\r\n                            OTPinput[3],\r\n                          ]);\r\n                        }}\r\n                      ></input>\r\n                    </div>\r\n                    <div className=\"w-16 h-16 \">\r\n                      <input\r\n                        maxLength=\"1\"\r\n                        className=\"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border-2 border-gray-200 text-2xl bg-white focus:bg-gray-50 focus:ring-2 ring-black\"\r\n                        type=\"number\"\r\n                        onInput={(e) => handleInputOtp(e, inputRef3)}\r\n                        ref={inputRef2}\r\n                        name=\"\"\r\n                        id=\"\"\r\n                        onChange={(e) =>\r\n                          setOTPinput([\r\n                            OTPinput[0],\r\n                            e.target.value,\r\n                            OTPinput[2],\r\n                            OTPinput[3],\r\n                          ])\r\n                        }\r\n                      ></input>\r\n                    </div>\r\n                    <div className=\"w-16 h-16 \">\r\n                      <input\r\n                        maxLength=\"1\"\r\n                        className=\"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border-2 border-gray-200 text-2xl bg-white focus:bg-gray-50 focus:ring-2 ring-black\"\r\n                        type=\"number\"\r\n                        onInput={(e) => handleInputOtp(e, inputRef4)}\r\n                        ref={inputRef3}\r\n                        name=\"\"\r\n                        id=\"\"\r\n                        onChange={(e) =>\r\n                          setOTPinput([\r\n                            OTPinput[0],\r\n                            OTPinput[1],\r\n                            e.target.value,\r\n                            OTPinput[3],\r\n                          ])\r\n                        }\r\n                      ></input>\r\n                    </div>\r\n                    <div className=\"w-16 h-16\">\r\n                      <input\r\n                        maxLength=\"1\"\r\n                        className=\"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border-2 border-gray-200 text-2xl bg-white focus:bg-gray-50 focus:ring-2 ring-black\"\r\n                        type=\"number\"\r\n                        ref={inputRef4}\r\n                        name=\"\"\r\n                        id=\"\"\r\n                        onChange={(e) =>\r\n                          setOTPinput([\r\n                            OTPinput[0],\r\n                            OTPinput[1],\r\n                            OTPinput[2],\r\n                            e.target.value,\r\n                          ])\r\n                        }\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-col space-y-5\">\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-red-700 text-xs h-4\">\r\n                        {error && error}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <button\r\n                        onClick={(e) => verfiyOTP(e)}\r\n                        className=\" \r\n                        font-serif  bg-black text-white\r\n                         cursor-pointer rounded-full font-medium\r\n                          w-11/12 mx-auto py-2  border-black\r\n                          transition duration-200 transform active:scale-95 ease-in-out\"\r\n                      >\r\n                        {isLoading ? (\r\n                          <span>\r\n                            <img\r\n                              src={loaderGif}\r\n                              alt=\"load\"\r\n                              className=\"w-6 filter brightness-0 invert  mx-auto h-6\"\r\n                            />\r\n                          </span>\r\n                        ) : (\r\n                          <span>Verify OTP</span>\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div className=\"flex flex-row items-center justify-center text-center text-sm font-medium space-x-1 text-gray-500\">\r\n                      <p>Didn't recieve code?</p>{\" \"}\r\n                      <a\r\n                        className={`${\r\n                          disable\r\n                            ? \"cursor-none text-gray-600\"\r\n                            : \"cursor-pointer text-black  font-bold\"\r\n                        }flex flex-row items-center`}\r\n                        onClick={() => resendOTP()}\r\n                      >\r\n                        {disable\r\n                          ? `Resend OTP in ${timerCount}s`\r\n                          : \"Resend OTP\"}\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Enterotp;\r\n","import { emptySplitApi } from \"../../api/emptySplitApi\";\r\n\r\nconst forgotPassword = emptySplitApi.injectEndpoints({\r\n  endpoints: (build) => ({\r\n    sendEmail: build.mutation({\r\n      query: (details) => ({\r\n        url: `api/vi/password/forgot/?email=${details}`,\r\n        method: \"POST\",\r\n        body: { email: details },\r\n      }),\r\n      invalidatesTags: [{ type: \"Carts\", id: \"LIST\" }],\r\n    }),\r\n    checkOTP: build.mutation({\r\n      query: (userOTP) => ({\r\n        url: `/api/vi/password/forgot/checkotp?otp=${userOTP}`,\r\n        method: \"POST\",\r\n      }),\r\n    }),\r\n    createPassword: build.mutation({\r\n      query: (userInfo) => ({\r\n        url: `api/vi/password/forgot/createNewPassword`,\r\n        method: \"POST\",\r\n        body: userInfo,\r\n      }),\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useSendEmailMutation,\r\n  useCheckOTPMutation,\r\n  useCreatePasswordMutation,\r\n} = forgotPassword;\r\n"],"names":["inputRef1","useRef","inputRef2","inputRef3","inputRef4","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","timerCount","setTimer","_useState3","_useState4","OTPinput","setOTPinput","_useState5","_useState6","disable","setDisable","_useState7","_useState8","_useState9","_useState10","error","SetError","handleInputOtp","e","inputRef","target","value","length","slice","current","focus","email","useSelector","state","productsStore","UserEmail","console","log","_useSendEmailMutation","useSendEmailMutation","_useSendEmailMutation2","sendEmail","_useSendEmailMutation3","errorRestEmail","isSuccess","emailData","data","_useCheckOTPMutation","useCheckOTPMutation","_useCheckOTPMutation2","checkOTP","_useCheckOTPMutation3","CheckOtpError","otpResult","isLoading","isError","success","useEffect","interval","setInterval","lastTimerCount","clearInterval","_jsx","className","children","_jsxs","maxLength","type","onInput","ref","name","id","onChange","onClick","preventDefault","otp","join","isEmpty","isInvalidLength","convertToNumber","verfiyOTP","src","loaderGif","alt","concat","forgotPassword","emptySplitApi","endpoints","build","mutation","query","details","url","method","body","invalidatesTags","userOTP","createPassword","userInfo","useCreatePasswordMutation"],"sourceRoot":""}