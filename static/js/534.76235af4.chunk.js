"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[534],{8534:function(e,t,n){n.r(t);var r=n(9439),s=n(2791),l=n(5048),c=n(7689),o=n(3928),a=n(5465),i=n(3329);t.default=function(){var e=(0,s.useRef)(null),t=(0,s.useRef)(null),n=(0,s.useRef)(null),u=(0,s.useRef)(null),d=(0,c.s0)(),f=(0,s.useState)(10),x=(0,r.Z)(f,2),m=x[0],h=x[1],g=(0,s.useState)([]),p=(0,r.Z)(g,2),v=p[0],w=p[1],j=(0,s.useState)(!0),b=(0,r.Z)(j,2),y=b[0],N=b[1],k=(0,s.useState)(!0),P=(0,r.Z)(k,2),S=(P[0],P[1],(0,s.useState)("")),T=(0,r.Z)(S,2),C=T[0],E=T[1],O=function(e,t){E(""),e.target.value.length>=1&&(e.target.value.slice(0,1),t.current.focus())},I=(0,l.v9)((function(e){return e.productsStore})).UserEmail;console.log(I);var Z=(0,o.T4)(),L=(0,r.Z)(Z,2),R=L[0],q=L[1],M=(q.isSuccess,q.error),D=q.data;console.log("reset error",M),console.log("Success",D);var V=(0,o.qv)(),_=(0,r.Z)(V,2),U=_[0],W=_[1],z=W.error,A=W.data,B=W.isSuccess,F=W.isLoading;W.isError;return null!==A&&void 0!==A&&A.success&&d("/forgot_password/newPassword"),console.log("checkotp",z),console.log("checkotp",A),(0,s.useEffect)((function(){var e=setInterval((function(){h((function(t){return t<=1&&clearInterval(e),t<=1&&N(!1),t<=0?t:t-1}))}),1e3);return function(){return clearInterval(e)}}),[y]),(0,s.useEffect)((function(){null!==B&&void 0!==B&&B.success&&d("/forgot_password/newPassword"),null!==A&&void 0!==A&&A.error&&E(null===A||void 0===A?void 0:A.error)}),[B,A]),(0,i.jsx)("div",{className:"w-screen h-screen bg-gray-50 flex justify-center items-center ",children:(0,i.jsx)("div",{className:" w-full md:w-5/12 rounded-md lg:w-4/12 xl:w-3/12 shadow-lg bg-white border border-gray-200 h-full sm:h-5/6  flex flex-col justify-around",children:(0,i.jsx)("div",{className:" px-6 pt-10 pb-9  mx-auto w-full",children:(0,i.jsxs)("div",{className:"mx-auto flex w-full max-w-md flex-col space-y-16",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-2",children:[(0,i.jsx)("div",{className:"font-serif text-gray-900 font-medium text-3xl",children:(0,i.jsx)("p",{children:"Email Verification"})}),(0,i.jsx)("div",{className:"flex flex-row text-sm font-medium text-center text-gray-400",children:(0,i.jsxs)("p",{children:["We have sent a code to your email ",I]})})]}),(0,i.jsx)("div",{children:(0,i.jsx)("form",{children:(0,i.jsxs)("div",{className:"flex flex-col space-y-16",children:[(0,i.jsxs)("div",{className:"flex flex-row items-center justify-between mx-auto w-full max-w-xs",children:[(0,i.jsx)("div",{className:"w-16 h-16 ",children:(0,i.jsx)("input",{maxLength:"1",className:"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border-2 border-gray-200 text-2xl bg-white focus:bg-gray-50 focus:ring-2 ring-black",type:"number",onInput:function(e){return O(e,t)},ref:e,name:"",id:"",onChange:function(e){w([e.target.value,v[1],v[2],v[3]])}})}),(0,i.jsx)("div",{className:"w-16 h-16 ",children:(0,i.jsx)("input",{maxLength:"1",className:"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border-2 border-gray-200 text-2xl bg-white focus:bg-gray-50 focus:ring-2 ring-black",type:"number",onInput:function(e){return O(e,n)},ref:t,name:"",id:"",onChange:function(e){return w([v[0],e.target.value,v[2],v[3]])}})}),(0,i.jsx)("div",{className:"w-16 h-16 ",children:(0,i.jsx)("input",{maxLength:"1",className:"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border-2 border-gray-200 text-2xl bg-white focus:bg-gray-50 focus:ring-2 ring-black",type:"number",onInput:function(e){return O(e,u)},ref:n,name:"",id:"",onChange:function(e){return w([v[0],v[1],e.target.value,v[3]])}})}),(0,i.jsx)("div",{className:"w-16 h-16",children:(0,i.jsx)("input",{maxLength:"1",className:"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border-2 border-gray-200 text-2xl bg-white focus:bg-gray-50 focus:ring-2 ring-black",type:"number",ref:u,name:"",id:"",onChange:function(e){return w([v[0],v[1],v[2],e.target.value])}})})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-5",children:[(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)("p",{className:"text-red-700 text-xs h-4",children:C&&C})}),(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var t=v.join(""),n=""===t,r=4!==t.length;r&&E("Please fill the input");var s=t;console.log(s),n||r||U(s)}(e)},className:" \r font-serif  bg-black text-white\r cursor-pointer rounded-full font-medium\r w-11/12 mx-auto py-2  border-black\r transition duration-200 transform active:scale-95 ease-in-out",children:F?(0,i.jsx)("span",{children:(0,i.jsx)("img",{src:a,alt:"load",className:"w-6 filter brightness-0 invert  mx-auto h-6"})}):(0,i.jsx)("span",{children:"Verify OTP"})})}),(0,i.jsxs)("div",{className:"flex flex-row items-center justify-center text-center text-sm font-medium space-x-1 text-gray-500",children:[(0,i.jsx)("p",{children:"Didn't recieve code?"})," ",(0,i.jsx)("a",{className:"".concat(y?"cursor-none text-gray-600":"cursor-pointer text-black  font-bold","flex flex-row items-center"),onClick:function(){y||(R(I),N(!0),h(20))},children:y?"Resend OTP in ".concat(m,"s"):"Resend OTP"})]})]})]})})})]})})})})}},3928:function(e,t,n){n.d(t,{T4:function(){return s},qv:function(){return l},ym:function(){return c}});var r=n(661).f.injectEndpoints({endpoints:function(e){return{sendEmail:e.mutation({query:function(e){return{url:"api/vi/password/forgot/?email=".concat(e),method:"POST",body:{email:e}}},invalidatesTags:[{type:"Carts",id:"LIST"}]}),checkOTP:e.mutation({query:function(e){return{url:"/api/vi/password/forgot/checkotp?otp=".concat(e),method:"POST"}}}),createPassword:e.mutation({query:function(e){return{url:"api/vi/password/forgot/createNewPassword",method:"POST",body:e}}})}}}),s=r.useSendEmailMutation,l=r.useCheckOTPMutation,c=r.useCreatePasswordMutation},5465:function(e,t,n){e.exports=n.p+"static/media/loadprofile.ce3fd696d5e991dd4056.gif"}}]);
//# sourceMappingURL=534.76235af4.chunk.js.map